<!DOCTYPE html>
<html lang="ko">
<html xmlns:th="http://www.thymeleaf.org"></html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
          integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
          crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" th:href="@{/css/lth/reset.css}">
    <link rel="stylesheet" th:href="@{/css/lth/weather.css}">
</head>
<body>
<header th:insert="~{fragment/header::header_a}">

</header>
<main>
    <div class="section0">
        <div class="bar-back"></div>
    </div>
    <div class="section0">
        <div class="section00">

        </div>
    </div>
    <div class="mypage-container">
        <div class="page-List">
            <a href=""><h2>날씨</h2></a>
            <nav>
                <div>
                    <ul class="title-List">
                        <li>
                            <a href="/weather">날씨</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
        <div class="page-title">
            <div class="qna">
                <div class="title">
                    <h1>날씨</h1>
                </div>
                <div class="top">
                    <div class="weather-container seoul-container">
                        <div style="background-color: rgb(242, 244, 247); padding: 40px; color: black; height: 220px">
                            <div style="float: left;">
                                <div class="weather_icon"></div>
                            </div>
                            <br>
                            <div style="float: right; margin: -5px 0px 0px 60px; font-size: 11pt">
                                <div class="temp_min"></div>
                                <div class="temp_max"></div>
                                <div class="humidity"></div>
                                <div class="wind"></div>
                                <div class="cloud"></div>
                            </div>
                            <div style="float: right; margin-top: -45px;">
                                <div class="current_temp" style="font-size: 50pt"></div>
                                <div class="weather_description" style="font-size: 20pt"></div>
                                <div class="city" style="font-size: 13pt"></div>
                            </div>
                        </div>
                    </div>
                    <div class="weather-container busan-container">
                        <div style="background-color: rgb(242, 244, 247); padding: 40px; color: black; height: 220px">
                            <div style="float: left;">
                                <div class="weather_icon"></div>
                            </div>
                            <br>
                            <div style="float: right; margin: -5px 0px 0px 60px; font-size: 11pt">
                                <div class="temp_min"></div>
                                <div class="temp_max"></div>
                                <div class="humidity"></div>
                                <div class="wind"></div>
                                <div class="cloud"></div>
                            </div>
                            <div style="float: right; margin-top: -45px;">
                                <div class="current_temp" style="font-size: 50pt"></div>
                                <div class="weather_description" style="font-size: 20pt"></div>
                                <div class="city" style="font-size: 13pt"></div>
                            </div>
                        </div>
                    </div>
                    <div class="weather-container daegu-container">
                        <div style="background-color: rgb(242, 244, 247); padding: 40px; color: black; height: 220px">
                            <div style="float: left;">
                                <div class="weather_icon"></div>
                            </div>
                            <br>
                            <div style="float: right; margin: -5px 0px 0px 60px; font-size: 11pt">
                                <div class="temp_min"></div>
                                <div class="temp_max"></div>
                                <div class="humidity"></div>
                                <div class="wind"></div>
                                <div class="cloud"></div>
                            </div>
                            <div style="float: right; margin-top: -45px;">
                                <div class="current_temp" style="font-size: 50pt"></div>
                                <div class="weather_description" style="font-size: 20pt"></div>
                                <div class="city" style="font-size: 13pt"></div>
                            </div>
                        </div>
                    </div>
                    <div class="weather-container ulsan-container">
                        <div style="background-color: rgb(242, 244, 247); padding: 40px; color: black; height: 220px">
                            <div style="float: left;">
                                <div class="weather_icon"></div>
                            </div>
                            <br>
                            <div style="float: right; margin: -5px 0px 0px 60px; font-size: 11pt">
                                <div class="temp_min"></div>
                                <div class="temp_max"></div>
                                <div class="humidity"></div>
                                <div class="wind"></div>
                                <div class="cloud"></div>
                            </div>
                            <div style="float: right; margin-top: -45px;">
                                <div class="current_temp" style="font-size: 50pt"></div>
                                <div class="weather_description" style="font-size: 20pt"></div>
                                <div class="city" style="font-size: 13pt"></div>
                            </div>
                        </div>
                    </div>
                    <div class="weather-container incheon-container">
                        <div style="background-color: rgb(242, 244, 247); padding: 40px; color: black; height: 220px">
                            <div style="float: left;">
                                <div class="weather_icon"></div>
                            </div>
                            <br>
                            <div style="float: right; margin: -5px 0px 0px 60px; font-size: 11pt">
                                <div class="temp_min"></div>
                                <div class="temp_max"></div>
                                <div class="humidity"></div>
                                <div class="wind"></div>
                                <div class="cloud"></div>
                            </div>
                            <div style="float: right; margin-top: -45px;">
                                <div class="current_temp" style="font-size: 50pt"></div>
                                <div class="weather_description" style="font-size: 20pt"></div>
                                <div class="city" style="font-size: 13pt"></div>
                            </div>
                        </div>
                    </div>
                    <div class="weather-container daejeon-container">
                        <div style="background-color: rgb(242, 244, 247); padding: 40px; color: black; height: 220px">
                            <div style="float: left;">
                                <div class="weather_icon"></div>
                            </div>
                            <br>
                            <div style="float: right; margin: -5px 0px 0px 60px; font-size: 11pt">
                                <div class="temp_min"></div>
                                <div class="temp_max"></div>
                                <div class="humidity"></div>
                                <div class="wind"></div>
                                <div class="cloud"></div>
                            </div>
                            <div style="float: right; margin-top: -45px;">
                                <div class="current_temp" style="font-size: 50pt"></div>
                                <div class="weather_description" style="font-size: 20pt"></div>
                                <div class="city" style="font-size: 13pt"></div>
                            </div>
                        </div>
                    </div>
                    <div class="weather-container gwangju-container">
                        <div style="background-color: rgb(242, 244, 247); padding: 40px; color: black; height: 220px">
                            <div style="float: left;">
                                <div class="weather_icon"></div>
                            </div>
                            <br>
                            <div style="float: right; margin: -5px 0px 0px 60px; font-size: 11pt">
                                <div class="temp_min"></div>
                                <div class="temp_max"></div>
                                <div class="humidity"></div>
                                <div class="wind"></div>
                                <div class="cloud"></div>
                            </div>
                            <div style="float: right; margin-top: -45px;">
                                <div class="current_temp" style="font-size: 50pt"></div>
                                <div class="weather_description" style="font-size: 20pt"></div>
                                <div class="city" style="font-size: 13pt"></div>
                            </div>
                        </div>
                    </div>
                    <div class="weather-container jeju-container">
                        <div style="background-color: rgb(242, 244, 247); padding: 40px; color: black; height: 220px">
                            <div style="float: left;">
                                <div class="weather_icon"></div>
                            </div>
                            <br>
                            <div style="float: right; margin: -5px 0px 0px 60px; font-size: 11pt">
                                <div class="temp_min"></div>
                                <div class="temp_max"></div>
                                <div class="humidity"></div>
                                <div class="wind"></div>
                                <div class="cloud"></div>
                            </div>
                            <div style="float: right; margin-top: -45px;">
                                <div class="current_temp" style="font-size: 50pt"></div>
                                <div class="weather_description" style="font-size: 20pt"></div>
                                <div class="city" style="font-size: 13pt"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="bottom-right">
                <a th:href="@{/index}" class="btn1">메인화면</a>
            </div>
        </div>
    </div>
</main>

<footer th:insert="~{fragment/footer::footer_a}">

</footer>
<script src="js/kdh/reservation/tabmove.js"></script>
<script>
    var weatherIcon = {
      '01': 'fas fa-sun',
      '02': 'fas fa-cloud-sun',
      '03': 'fas fa-cloud',
      '04': 'fas fa-cloud-meatball',
      '09': 'fas fa-cloud-sun-rain',
      '10': 'fas fa-cloud-showers-heavy',
      '11': 'fas fa-poo-storm',
      '13': 'far fa-snowflake',
      '50': 'fas fa-smog'
    };

    // Function to update weather information
    function updateWeather(city, containerSelector) {
      var apiURI = "https://api.openweathermap.org/data/2.5/weather?q=" + city + "&appid=5f88fbf670a339eb5f33bac2d8fd0f44";
      $.ajax({
        url: apiURI,
        dataType: "json",
        type: "GET",
        success: function (resp) {
          var icon = (resp.weather[0].icon).substr(0, 2);
          var weatherDescription = resp.weather[0].main;
          var temp = Math.floor(resp.main.temp - 273.15) + 'º';
          var humidity = '습도 : ' + resp.main.humidity + ' %';
          var wind = '바람 : ' + resp.wind.speed + ' m/s';
          var cloud = '구름 : ' + resp.clouds.all + "%";
          var tempMin = '최저 온도 : ' + Math.floor(resp.main.temp_min - 273.15) + 'º';
          var tempMax = '최고 온도 : ' + Math.floor(resp.main.temp_max - 273.15) + 'º';

          // Update the HTML elements with weather information
          $(containerSelector + ' .weather_icon').html('<i class="' + weatherIcon[icon] + ' fa-5x" style="height : 150px; width : 150px;"></i>');
          $(containerSelector + ' .weather_description').text(weatherDescription);
          $(containerSelector + ' .current_temp').text(temp);
          $(containerSelector + ' .humidity').text(humidity);
          $(containerSelector + ' .wind').text(wind);
          $(containerSelector + ' .city').text(city);
          $(containerSelector + ' .cloud').text(cloud);
          $(containerSelector + ' .temp_min').text(tempMin);
          $(containerSelector + ' .temp_max').text(tempMax);
        }
      });
    }

    updateWeather('Seoul', '.seoul-container');

    updateWeather('Busan', '.busan-container');

    updateWeather('Daegu', '.daegu-container');

    updateWeather('Gwangju', '.gwangju-container');

    updateWeather('Daejeon', '.daejeon-container');

    updateWeather('Incheon', '.incheon-container');

    updateWeather('Ulsan', '.ulsan-container');

    updateWeather('Jeju', '.jeju-container');
</script>
</body>
</html>